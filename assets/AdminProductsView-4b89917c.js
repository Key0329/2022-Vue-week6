import{_ as mt,r as st,o as O,c as P,e,b as J,w as gt,u as nt,q as bt,F as it,h as At,d as ot,t as Y,x as V,i as G,g as q,s as H,y as Ht}from"./index-b003f6f4.js";const jt={name:"pagination-component",props:{pages:{type:Object,required:!0}},methods:{changePage(a,r=1){this.$emit("getProductsData",a,r)}}},Kt={"aria-label":"Page navigation"},Yt={class:"pagination"},Wt={class:"page-item"},zt=e("span",{"aria-hidden":"true"},"«",-1),Qt={class:"page-item"},Gt=e("span",{"aria-hidden":"true"},"»",-1);function Jt(a,r,o,l,i,n){const s=st("router-link");return O(),P("nav",Kt,[e("ul",Yt,[e("li",Wt,[J(s,{to:`/admin/products/${o.pages.current_page-1}`,onClick:r[0]||(r[0]=nt(c=>n.changePage(c,o.pages.current_page-1),["prevent"])),class:bt(["page-link",{disabled:!o.pages.has_pre}]),href:"#","aria-label":"Previous"},{default:gt(()=>[zt]),_:1},8,["to","class"])]),(O(!0),P(it,null,At(o.pages.total_pages,c=>(O(),P("li",{key:c+"page",class:bt(["page-item",{"point-none":c===o.pages.current_page}])},[J(s,{to:`/admin/products/${c}`,onClick:p=>n.changePage(p,c),class:"page-link"},{default:gt(()=>[ot(Y(c),1)]),_:2},1032,["to","onClick"])],2))),128)),e("li",Qt,[J(s,{to:`/admin/products/${o.pages.current_page+1}`,onClick:r[1]||(r[1]=nt(c=>n.changePage(c,o.pages.current_page+1),["prevent"])),class:bt(["page-link",{disabled:!o.pages.has_next}]),"aria-label":"Next"},{default:gt(()=>[Gt]),_:1},8,["to","class"])])])])}const Xt=mt(jt,[["render",Jt]]);var vt={},Zt={get exports(){return vt},set exports(a){vt=a}},Z={},te={get exports(){return Z},set exports(a){Z=a}};/*!
  * Bootstrap index.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Nt;function W(){return Nt||(Nt=1,function(a,r){(function(o,l){l(r)})(V,function(o){const n="transitionend",s=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),c=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},p=t=>{let f=t.getAttribute("data-bs-target");if(!f||f==="#"){let m=t.getAttribute("href");if(!m||!m.includes("#")&&!m.startsWith("."))return null;m.includes("#")&&!m.startsWith("#")&&(m=`#${m.split("#")[1]}`),f=m&&m!=="#"?m.trim():null}return f},_=t=>{const f=p(t);return f&&document.querySelector(f)?f:null},w=t=>{const f=p(t);return f?document.querySelector(f):null},E=t=>{if(!t)return 0;let{transitionDuration:f,transitionDelay:m}=window.getComputedStyle(t);const S=Number.parseFloat(f),M=Number.parseFloat(m);return!S&&!M?0:(f=f.split(",")[0],m=m.split(",")[0],(Number.parseFloat(f)+Number.parseFloat(m))*1e3)},N=t=>{t.dispatchEvent(new Event(n))},h=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),A=t=>h(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(t):null,y=t=>{if(!h(t)||t.getClientRects().length===0)return!1;const f=getComputedStyle(t).getPropertyValue("visibility")==="visible",m=t.closest("details:not([open])");if(!m)return f;if(m!==t){const S=t.closest("summary");if(S&&S.parentNode!==m||S===null)return!1}return f},g=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",L=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const f=t.getRootNode();return f instanceof ShadowRoot?f:null}return t instanceof ShadowRoot?t:t.parentNode?L(t.parentNode):null},F=()=>{},T=t=>{t.offsetHeight},U=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,x=[],d=t=>{document.readyState==="loading"?(x.length||document.addEventListener("DOMContentLoaded",()=>{for(const f of x)f()}),x.push(t)):t()},u=()=>document.documentElement.dir==="rtl",b=t=>{d(()=>{const f=U();if(f){const m=t.NAME,S=f.fn[m];f.fn[m]=t.jQueryInterface,f.fn[m].Constructor=t,f.fn[m].noConflict=()=>(f.fn[m]=S,t.jQueryInterface)}})},v=t=>{typeof t=="function"&&t()},C=(t,f,m=!0)=>{if(!m){v(t);return}const S=5,M=E(f)+S;let I=!1;const R=({target:j})=>{j===f&&(I=!0,f.removeEventListener(n,R),v(t))};f.addEventListener(n,R),setTimeout(()=>{I||N(f)},M)},k=(t,f,m,S)=>{const M=t.length;let I=t.indexOf(f);return I===-1?!m&&S?t[M-1]:t[0]:(I+=m?1:-1,S&&(I=(I+M)%M),t[Math.max(0,Math.min(I,M-1))])};o.defineJQueryPlugin=b,o.execute=v,o.executeAfterTransition=C,o.findShadowRoot=L,o.getElement=A,o.getElementFromSelector=w,o.getNextActiveElement=k,o.getSelectorFromElement=_,o.getTransitionDurationFromElement=E,o.getUID=c,o.getjQuery=U,o.isDisabled=g,o.isElement=h,o.isRTL=u,o.isVisible=y,o.noop=F,o.onDOMContentLoaded=d,o.reflow=T,o.toType=s,o.triggerTransitionEnd=N,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}(te,Z)),Z}var rt={},ee={get exports(){return rt},set exports(a){rt=a}};/*!
  * Bootstrap event-handler.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kt;function et(){return kt||(kt=1,function(a,r){(function(o,l){a.exports=l(W())})(V,function(o){const l=/[^.]*(?=\..*)\.|.*/,i=/\..*/,n=/::\d+$/,s={};let c=1;const p={mouseenter:"mouseover",mouseleave:"mouseout"},_=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function w(d,u){return u&&`${u}::${c++}`||d.uidEvent||c++}function E(d){const u=w(d);return d.uidEvent=u,s[u]=s[u]||{},s[u]}function N(d,u){return function b(v){return x(v,{delegateTarget:d}),b.oneOff&&U.off(d,v.type,u),u.apply(d,[v])}}function h(d,u,b){return function v(C){const k=d.querySelectorAll(u);for(let{target:t}=C;t&&t!==this;t=t.parentNode)for(const f of k)if(f===t)return x(C,{delegateTarget:t}),v.oneOff&&U.off(d,C.type,u,b),b.apply(t,[C])}}function A(d,u,b=null){return Object.values(d).find(v=>v.callable===u&&v.delegationSelector===b)}function y(d,u,b){const v=typeof u=="string",C=v?b:u||b;let k=T(d);return _.has(k)||(k=d),[v,C,k]}function g(d,u,b,v,C){if(typeof u!="string"||!d)return;let[k,t,f]=y(u,b,v);u in p&&(t=(_t=>function(K){if(!K.relatedTarget||K.relatedTarget!==K.delegateTarget&&!K.delegateTarget.contains(K.relatedTarget))return _t.call(this,K)})(t));const m=E(d),S=m[f]||(m[f]={}),M=A(S,t,k?b:null);if(M){M.oneOff=M.oneOff&&C;return}const I=w(t,u.replace(l,"")),R=k?h(d,b,t):N(d,t);R.delegationSelector=k?b:null,R.callable=t,R.oneOff=C,R.uidEvent=I,S[I]=R,d.addEventListener(f,R,k)}function L(d,u,b,v,C){const k=A(u[b],v,C);k&&(d.removeEventListener(b,k,Boolean(C)),delete u[b][k.uidEvent])}function F(d,u,b,v){const C=u[b]||{};for(const k of Object.keys(C))if(k.includes(v)){const t=C[k];L(d,u,b,t.callable,t.delegationSelector)}}function T(d){return d=d.replace(i,""),p[d]||d}const U={on(d,u,b,v){g(d,u,b,v,!1)},one(d,u,b,v){g(d,u,b,v,!0)},off(d,u,b,v){if(typeof u!="string"||!d)return;const[C,k,t]=y(u,b,v),f=t!==u,m=E(d),S=m[t]||{},M=u.startsWith(".");if(typeof k<"u"){if(!Object.keys(S).length)return;L(d,m,t,k,C?b:null);return}if(M)for(const I of Object.keys(m))F(d,m,I,u.slice(1));for(const I of Object.keys(S)){const R=I.replace(n,"");if(!f||u.includes(R)){const j=S[I];L(d,m,t,j.callable,j.delegationSelector)}}},trigger(d,u,b){if(typeof u!="string"||!d)return null;const v=o.getjQuery(),C=T(u),k=u!==C;let t=null,f=!0,m=!0,S=!1;k&&v&&(t=v.Event(u,b),v(d).trigger(t),f=!t.isPropagationStopped(),m=!t.isImmediatePropagationStopped(),S=t.isDefaultPrevented());let M=new Event(u,{bubbles:f,cancelable:!0});return M=x(M,b),S&&M.preventDefault(),m&&d.dispatchEvent(M),M.defaultPrevented&&t&&t.preventDefault(),M}};function x(d,u){for(const[b,v]of Object.entries(u||{}))try{d[b]=v}catch{Object.defineProperty(d,b,{configurable:!0,get(){return v}})}return d}return U})}(ee)),rt}var at={},se={get exports(){return at},set exports(a){at=a}};/*!
  * Bootstrap selector-engine.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Tt;function wt(){return Tt||(Tt=1,function(a,r){(function(o,l){a.exports=l(W())})(V,function(o){return{find(i,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,i))},findOne(i,n=document.documentElement){return Element.prototype.querySelector.call(n,i)},children(i,n){return[].concat(...i.children).filter(s=>s.matches(n))},parents(i,n){const s=[];let c=i.parentNode.closest(n);for(;c;)s.push(c),c=c.parentNode.closest(n);return s},prev(i,n){let s=i.previousElementSibling;for(;s;){if(s.matches(n))return[s];s=s.previousElementSibling}return[]},next(i,n){let s=i.nextElementSibling;for(;s;){if(s.matches(n))return[s];s=s.nextElementSibling}return[]},focusableChildren(i){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(s=>`${s}:not([tabindex^="-"])`).join(",");return this.find(n,i).filter(s=>!o.isDisabled(s)&&o.isVisible(s))}}})}(se)),at}var lt={},oe={get exports(){return lt},set exports(a){lt=a}},ct={},ne={get exports(){return ct},set exports(a){ct=a}};/*!
  * Bootstrap manipulator.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ct;function Ut(){return Ct||(Ct=1,function(a,r){(function(o,l){a.exports=l()})(V,function(){function o(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function l(n){return n.replace(/[A-Z]/g,s=>`-${s.toLowerCase()}`)}return{setDataAttribute(n,s,c){n.setAttribute(`data-bs-${l(s)}`,c)},removeDataAttribute(n,s){n.removeAttribute(`data-bs-${l(s)}`)},getDataAttributes(n){if(!n)return{};const s={},c=Object.keys(n.dataset).filter(p=>p.startsWith("bs")&&!p.startsWith("bsConfig"));for(const p of c){let _=p.replace(/^bs/,"");_=_.charAt(0).toLowerCase()+_.slice(1,_.length),s[_]=o(n.dataset[p])}return s},getDataAttribute(n,s){return o(n.getAttribute(`data-bs-${l(s)}`))}}})}(ne)),ct}/*!
  * Bootstrap scrollbar.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var St;function ie(){return St||(St=1,function(a,r){(function(o,l){a.exports=l(wt(),Ut(),W())})(V,function(o,l,i){const n=h=>h&&typeof h=="object"&&"default"in h?h:{default:h},s=n(o),c=n(l),p=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_=".sticky-top",w="padding-right",E="margin-right";class N{constructor(){this._element=document.body}getWidth(){const A=document.documentElement.clientWidth;return Math.abs(window.innerWidth-A)}hide(){const A=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,w,y=>y+A),this._setElementAttributes(p,w,y=>y+A),this._setElementAttributes(_,E,y=>y-A)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,w),this._resetElementAttributes(p,w),this._resetElementAttributes(_,E)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(A,y,g){const L=this.getWidth(),F=T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+L)return;this._saveInitialAttribute(T,y);const U=window.getComputedStyle(T).getPropertyValue(y);T.style.setProperty(y,`${g(Number.parseFloat(U))}px`)};this._applyManipulationCallback(A,F)}_saveInitialAttribute(A,y){const g=A.style.getPropertyValue(y);g&&c.default.setDataAttribute(A,y,g)}_resetElementAttributes(A,y){const g=L=>{const F=c.default.getDataAttribute(L,y);if(F===null){L.style.removeProperty(y);return}c.default.removeDataAttribute(L,y),L.style.setProperty(y,F)};this._applyManipulationCallback(A,g)}_applyManipulationCallback(A,y){if(i.isElement(A)){y(A);return}for(const g of s.default.find(A,this._element))y(g)}}return N})}(oe)),lt}var dt={},re={get exports(){return dt},set exports(a){dt=a}},ut={},ae={get exports(){return ut},set exports(a){ut=a}};/*!
  * Bootstrap data.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Mt;function le(){return Mt||(Mt=1,function(a,r){(function(o,l){a.exports=l()})(V,function(){const o=new Map;return{set(i,n,s){o.has(i)||o.set(i,new Map);const c=o.get(i);if(!c.has(n)&&c.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(c.keys())[0]}.`);return}c.set(n,s)},get(i,n){return o.has(i)&&o.get(i).get(n)||null},remove(i,n){if(!o.has(i))return;const s=o.get(i);s.delete(n),s.size===0&&o.delete(i)}}})}(ae)),ut}var pt={},ce={get exports(){return pt},set exports(a){pt=a}};/*!
  * Bootstrap config.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var xt;function Dt(){return xt||(xt=1,function(a,r){(function(o,l){a.exports=l(W(),Ut())})(V,function(o,l){const n=(c=>c&&typeof c=="object"&&"default"in c?c:{default:c})(l);class s{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(p){return p=this._mergeConfigObj(p),p=this._configAfterMerge(p),this._typeCheckConfig(p),p}_configAfterMerge(p){return p}_mergeConfigObj(p,_){const w=o.isElement(_)?n.default.getDataAttribute(_,"config"):{};return{...this.constructor.Default,...typeof w=="object"?w:{},...o.isElement(_)?n.default.getDataAttributes(_):{},...typeof p=="object"?p:{}}}_typeCheckConfig(p,_=this.constructor.DefaultType){for(const w of Object.keys(_)){const E=_[w],N=p[w],h=o.isElement(N)?"element":o.toType(N);if(!new RegExp(E).test(h))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${w}" provided type "${h}" but expected type "${E}".`)}}}return s})}(ce)),pt}/*!
  * Bootstrap base-component.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Ot;function de(){return Ot||(Ot=1,function(a,r){(function(o,l){a.exports=l(le(),W(),et(),Dt())})(V,function(o,l,i,n){const s=N=>N&&typeof N=="object"&&"default"in N?N:{default:N},c=s(o),p=s(i),_=s(n),w="5.2.3";class E extends _.default{constructor(h,A){super(),h=l.getElement(h),h&&(this._element=h,this._config=this._getConfig(A),c.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){c.default.remove(this._element,this.constructor.DATA_KEY),p.default.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,A,y=!0){l.executeAfterTransition(h,A,y)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return c.default.get(l.getElement(h),this.DATA_KEY)}static getOrCreateInstance(h,A={}){return this.getInstance(h)||new this(h,typeof A=="object"?A:null)}static get VERSION(){return w}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}return E})}(re)),dt}var ft={},ue={get exports(){return ft},set exports(a){ft=a}};/*!
  * Bootstrap backdrop.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Pt;function pe(){return Pt||(Pt=1,function(a,r){(function(o,l){a.exports=l(et(),W(),Dt())})(V,function(o,l,i){const n=y=>y&&typeof y=="object"&&"default"in y?y:{default:y},s=n(o),c=n(i),p="backdrop",_="fade",w="show",E=`mousedown.bs.${p}`,N={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},h={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class A extends c.default{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return N}static get DefaultType(){return h}static get NAME(){return p}show(g){if(!this._config.isVisible){l.execute(g);return}this._append();const L=this._getElement();this._config.isAnimated&&l.reflow(L),L.classList.add(w),this._emulateAnimation(()=>{l.execute(g)})}hide(g){if(!this._config.isVisible){l.execute(g);return}this._getElement().classList.remove(w),this._emulateAnimation(()=>{this.dispose(),l.execute(g)})}dispose(){this._isAppended&&(s.default.off(this._element,E),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(_),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=l.getElement(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),s.default.on(g,E,()=>{l.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){l.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return A})}(ue)),ft}var ht={},fe={get exports(){return ht},set exports(a){ht=a}};/*!
  * Bootstrap focustrap.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Lt;function he(){return Lt||(Lt=1,function(a,r){(function(o,l){a.exports=l(et(),wt(),Dt())})(V,function(o,l,i){const n=U=>U&&typeof U=="object"&&"default"in U?U:{default:U},s=n(o),c=n(l),p=n(i),_="focustrap",E=".bs.focustrap",N=`focusin${E}`,h=`keydown.tab${E}`,A="Tab",y="forward",g="backward",L={autofocus:!0,trapElement:null},F={autofocus:"boolean",trapElement:"element"};class T extends p.default{constructor(x){super(),this._config=this._getConfig(x),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return L}static get DefaultType(){return F}static get NAME(){return _}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.default.off(document,E),s.default.on(document,N,x=>this._handleFocusin(x)),s.default.on(document,h,x=>this._handleKeydown(x)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.default.off(document,E))}_handleFocusin(x){const{trapElement:d}=this._config;if(x.target===document||x.target===d||d.contains(x.target))return;const u=c.default.focusableChildren(d);u.length===0?d.focus():this._lastTabNavDirection===g?u[u.length-1].focus():u[0].focus()}_handleKeydown(x){x.key===A&&(this._lastTabNavDirection=x.shiftKey?g:y)}}return T})}(fe)),ht}var tt={},me={get exports(){return tt},set exports(a){tt=a}};/*!
  * Bootstrap component-functions.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var It;function _e(){return It||(It=1,function(a,r){(function(o,l){l(r,et(),W())})(V,function(o,l,i){const s=(p=>p&&typeof p=="object"&&"default"in p?p:{default:p})(l),c=(p,_="hide")=>{const w=`click.dismiss${p.EVENT_KEY}`,E=p.NAME;s.default.on(document,w,`[data-bs-dismiss="${E}"]`,function(N){if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),i.isDisabled(this))return;const h=i.getElementFromSelector(this)||this.closest(`.${E}`);p.getOrCreateInstance(h)[_]()})};o.enableDismissTrigger=c,Object.defineProperties(o,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})})}(me,tt)),tt}/*!
  * Bootstrap modal.js v5.2.3 (https://getbootstrap.com/)
  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(a,r){(function(o,l){a.exports=l(W(),et(),wt(),ie(),de(),pe(),he(),_e())})(V,function(o,l,i,n,s,c,p,_){const w=Q=>Q&&typeof Q=="object"&&"default"in Q?Q:{default:Q},E=w(l),N=w(i),h=w(n),A=w(s),y=w(c),g=w(p),L="modal",T=".bs.modal",U=".data-api",x="Escape",d=`hide${T}`,u=`hidePrevented${T}`,b=`hidden${T}`,v=`show${T}`,C=`shown${T}`,k=`resize${T}`,t=`click.dismiss${T}`,f=`mousedown.dismiss${T}`,m=`keydown.dismiss${T}`,S=`click${T}${U}`,M="modal-open",I="fade",R="show",j="modal-static",_t=".modal.show",K=".modal-dialog",Vt=".modal-body",Ft='[data-bs-toggle="modal"]',Bt={backdrop:!0,focus:!0,keyboard:!0},qt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class z extends A.default{constructor(D,$){super(D,$),this._dialog=N.default.findOne(K,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new h.default,this._addEventListeners()}static get Default(){return Bt}static get DefaultType(){return qt}static get NAME(){return L}toggle(D){return this._isShown?this.hide():this.show(D)}show(D){this._isShown||this._isTransitioning||E.default.trigger(this._element,v,{relatedTarget:D}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(M),this._adjustDialog(),this._backdrop.show(()=>this._showElement(D)))}hide(){!this._isShown||this._isTransitioning||E.default.trigger(this._element,d).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(R),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){for(const D of[window,this._dialog])E.default.off(D,T);this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new y.default({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new g.default({trapElement:this._element})}_showElement(D){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const $=N.default.findOne(Vt,this._dialog);$&&($.scrollTop=0),o.reflow(this._element),this._element.classList.add(R);const B=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,E.default.trigger(this._element,C,{relatedTarget:D})};this._queueCallback(B,this._dialog,this._isAnimated())}_addEventListeners(){E.default.on(this._element,m,D=>{if(D.key===x){if(this._config.keyboard){D.preventDefault(),this.hide();return}this._triggerBackdropTransition()}}),E.default.on(window,k,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),E.default.on(this._element,f,D=>{E.default.one(this._element,t,$=>{if(!(this._element!==D.target||this._element!==$.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(M),this._resetAdjustments(),this._scrollBar.reset(),E.default.trigger(this._element,b)})}_isAnimated(){return this._element.classList.contains(I)}_triggerBackdropTransition(){if(E.default.trigger(this._element,u).defaultPrevented)return;const $=this._element.scrollHeight>document.documentElement.clientHeight,B=this._element.style.overflowY;B==="hidden"||this._element.classList.contains(j)||($||(this._element.style.overflowY="hidden"),this._element.classList.add(j),this._queueCallback(()=>{this._element.classList.remove(j),this._queueCallback(()=>{this._element.style.overflowY=B},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const D=this._element.scrollHeight>document.documentElement.clientHeight,$=this._scrollBar.getWidth(),B=$>0;if(B&&!D){const X=o.isRTL()?"paddingLeft":"paddingRight";this._element.style[X]=`${$}px`}if(!B&&D){const X=o.isRTL()?"paddingRight":"paddingLeft";this._element.style[X]=`${$}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(D,$){return this.each(function(){const B=z.getOrCreateInstance(this,D);if(typeof D=="string"){if(typeof B[D]>"u")throw new TypeError(`No method named "${D}"`);B[D]($)}})}}return E.default.on(document,S,Ft,function(Q){const D=o.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Q.preventDefault(),E.default.one(D,v,X=>{X.defaultPrevented||E.default.one(D,b,()=>{o.isVisible(this)&&this.focus()})});const $=N.default.findOne(_t);$&&z.getInstance($).hide(),z.getOrCreateInstance(D).toggle(this)}),_.enableDismissTrigger(z),o.defineJQueryPlugin(z),z})})(Zt);const Rt=vt,Et="https://vue3-course-api.hexschool.io/v2",yt="key0329",ge={name:"product-modal-component",props:{isNew:{type:Boolean,required:!0},tempProduct:{type:Object,required:!0}},data(){return{bsModal:"",product:{}}},methods:{openModal(){this.bsModal.show()},closeModal(){this.bsModal.hide()},addImage(){this.product.imagesUrl.push("")},createImage(){this.product.imagesUrl=[],this.product.imagesUrl.push("")},deleteImage(){this.product.imagesUrl.pop()},updateImage(a,r){this.product.imagesUrl[a]=r},addNewProduct(){const a=this.product;if(!this.product.title||!this.product.category||!this.product.unit||!this.product.price||!this.product.origin_price){alert("標題 / 分類 / 單位 / 原價 / 售價 為必填欄位");return}this.$http.post(`${Et}/api/${yt}/admin/product`,{data:a}).then(r=>{alert(r.data.message),this.$emit("get-products-data"),this.closeModal()}).catch(r=>{alert(r.data.message)})},updateProduct(){const a=this.product,{id:r}=this.product;if(!this.product.title||!this.product.category||!this.product.unit||!this.product.price||!this.product.origin_price){alert("標題 / 分類 / 單位 / 原價 / 售價 為必填欄位");return}this.$http.put(`${Et}/api/${yt}/admin/product/${r}`,{data:a}).then(o=>{alert(o.data.message),this.$emit("get-products-data"),this.closeModal()}).catch(o=>{alert(o.data.message)})},updateProductHandler(){this.isNew?this.addNewProduct():this.updateProduct()},handleSubmit(a,r,o){const l=new FormData(o.target);this.sendFormData(a,r,l)},sendFormData(a,r,o){this.$http.post(`${Et}/api/${yt}/admin/upload`,o).then(l=>{const i=l.data.imageUrl;a==="multi"?this.product.imagesUrl[r]=i:a==="main"&&(this.product.imageUrl=i)}).catch(l=>{alert(l.message)})}},watch:{tempProduct:{handler(a){this.product=JSON.parse(JSON.stringify(a))},deep:!0}},mounted(){this.bsModal=new Rt(this.$refs.productModal)}},be={id:"productModal",ref:"productModal",class:"modal fade",tabindex:"-1","aria-labelledby":"productModalLabel","aria-hidden":"true"},Ee={class:"modal-dialog modal-xl"},ye={class:"modal-content border-0"},ve={class:"modal-header bg-dark text-white"},Ae={id:"productModalLabel",class:"modal-title"},we=e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1),De={class:"modal-body text-start"},Ne={class:"row"},ke={class:"col-sm-4"},Te=e("h3",{class:"mb-3"},"主要圖片",-1),Ce={class:"mb-3"},Se={class:"mb-3"},Me={key:0,class:"form-group mb-2"},xe=e("label",{class:"mb-2",for:"uploadImageFile"},"上傳圖片",-1),Oe=e("input",{id:"uploadImageFile",class:"form-control mb-1",type:"file",name:"file-to-upload"},null,-1),Pe=e("input",{class:"form-control",type:"submit",value:"確認上傳"},null,-1),Le=[xe,Oe,Pe],Ie={class:"form-group"},$e={key:0,for:"uploadImageUrl",class:"form-label"},Ue=["src"],Re=e("h3",{class:"mb-3"},"多圖新增",-1),Ve={key:0},Fe={class:"mb-3"},Be=["onSubmit"],qe={key:0,class:"form-group mb-2"},He=e("label",{class:"mb-2",for:"uploadImagesFile"},"上傳圖片",-1),je=e("input",{id:"uploadImagesFile",class:"form-control mb-1",type:"file",name:"file-to-upload"},null,-1),Ke=e("input",{class:"form-control",type:"submit",value:"確認上傳"},null,-1),Ye=[He,je,Ke],We={class:"form-group"},ze={key:0,for:"uploadImagesUrl",class:"form-label"},Qe=["onUpdate:modelValue"],Ge=["src","alt"],Je={key:0},Xe={key:1},Ze={key:1},ts={class:"col-sm-8"},es={class:"mb-3"},ss=e("label",{for:"title",class:"form-label"},"標題",-1),os={class:"row"},ns={class:"mb-3 col-md-6"},is=e("label",{for:"category",class:"form-label"},"分類",-1),rs={class:"mb-3 col-md-6"},as=e("label",{for:"price",class:"form-label"},"單位",-1),ls={class:"row"},cs={class:"mb-3 col-md-6"},ds=e("label",{for:"origin_price",class:"form-label"},"原價",-1),us={class:"mb-3 col-md-6"},ps=e("label",{for:"price",class:"form-label"},"售價",-1),fs={class:"mb-3 col-md-6"},hs=e("label",{for:"review",class:"form-label"},"評價",-1),ms=e("hr",null,null,-1),_s={class:"mb-3"},gs=e("label",{for:"description",class:"form-label"},"產品描述",-1),bs={class:"mb-3"},Es=e("label",{for:"content",class:"form-label"},"說明內容",-1),ys={class:"mb-3"},vs={class:"form-check"},As=e("label",{class:"form-check-label",for:"is_enabled"},"是否啟用",-1),ws={class:"modal-footer"},Ds=e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Ns(a,r,o,l,i,n){return O(),P("div",be,[e("div",Ee,[e("div",ye,[e("div",ve,[e("h5",Ae,[e("span",null,Y(o.isNew?"新增產品":"編輯產品"),1)]),we]),e("div",De,[e("div",Ne,[e("div",ke,[Te,e("div",Ce,[e("div",Se,[e("form",{class:"mt-2",onSubmit:r[1]||(r[1]=nt(s=>n.handleSubmit("main","null",s),["prevent"])),action:"https://vue3-course-api.hexschool.io/v2/api/key0329/admin/upload",enctype:"multipart/form-data",method:"post"},[i.product.imageUrl?G("",!0):(O(),P("div",Me,Le)),e("div",Ie,[i.product.imageUrl?G("",!0):(O(),P("label",$e,"或輸入圖片網址")),q(e("input",{type:"text",id:"uploadImageUrl",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":r[0]||(r[0]=s=>i.product.imageUrl=s)},null,512),[[H,i.product.imageUrl]])])],32)]),i.product.imageUrl?(O(),P("img",{key:0,class:"img-fluid",src:i.product.imageUrl,alt:"mainImg"},null,8,Ue)):G("",!0)]),Re,Array.isArray(i.product.imagesUrl)?(O(),P("div",Ve,[(O(!0),P(it,null,At(i.product.imagesUrl,(s,c)=>(O(),P("div",{class:"mb-4 pb-2 border-1 border-bottom",key:c},[e("div",Fe,[e("form",{class:"mt-2",onSubmit:nt(p=>n.handleSubmit("multi",c,p),["prevent"]),action:"https://vue3-course-api.hexschool.io/v2/api/key0329/admin/upload",enctype:"multipart/form-data",method:"post"},[i.product.imagesUrl[c]?G("",!0):(O(),P("div",qe,Ye)),e("div",We,[i.product.imagesUrl[c]?G("",!0):(O(),P("label",ze,"或輸入圖片網址")),q(e("input",{type:"text",id:"uploadImagesUrl",class:"form-control",placeholder:"請輸入圖片連結","onUpdate:modelValue":p=>i.product.imagesUrl[c]=p},null,8,Qe),[[H,i.product.imagesUrl[c]]])])],40,Be)]),this.product.imagesUrl[c]?(O(),P("img",{key:0,class:"img-fluid",src:s,alt:"img"+c},null,8,Ge)):G("",!0)]))),128)),!i.product.imagesUrl.length||i.product.imagesUrl[i.product.imagesUrl.length-1]?(O(),P("div",Je,[e("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:r[2]||(r[2]=(...s)=>n.addImage&&n.addImage(...s))}," 新增圖片 ")])):(O(),P("div",Xe,[e("button",{class:"btn btn-outline-danger btn-sm d-block w-100",onClick:r[3]||(r[3]=(...s)=>n.deleteImage&&n.deleteImage(...s))}," 刪除圖片 ")]))])):(O(),P("div",Ze,[e("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:r[4]||(r[4]=(...s)=>n.createImage&&n.createImage(...s))}," 新增圖片 ")]))]),e("div",ts,[e("div",es,[ss,q(e("input",{id:"title",type:"text",class:"form-control",placeholder:"請輸入標題","onUpdate:modelValue":r[5]||(r[5]=s=>i.product.title=s)},null,512),[[H,i.product.title]])]),e("div",os,[e("div",ns,[is,q(e("input",{id:"category",type:"text",class:"form-control",placeholder:"請輸入分類","onUpdate:modelValue":r[6]||(r[6]=s=>i.product.category=s)},null,512),[[H,i.product.category]])]),e("div",rs,[as,q(e("input",{id:"unit",type:"text",class:"form-control",placeholder:"請輸入單位","onUpdate:modelValue":r[7]||(r[7]=s=>i.product.unit=s)},null,512),[[H,i.product.unit]])])]),e("div",ls,[e("div",cs,[ds,q(e("input",{id:"origin_price",type:"number",min:"0",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":r[8]||(r[8]=s=>i.product.origin_price=s)},null,512),[[H,i.product.origin_price,void 0,{number:!0}]])]),e("div",us,[ps,q(e("input",{id:"price",type:"number",min:"0",class:"form-control",placeholder:"請輸入售價","onUpdate:modelValue":r[9]||(r[9]=s=>i.product.price=s)},null,512),[[H,i.product.price,void 0,{number:!0}]])]),e("div",fs,[hs,q(e("input",{id:"review",type:"number",min:"0",max:"5",class:"form-control",placeholder:"請輸入星級","onUpdate:modelValue":r[10]||(r[10]=s=>i.product.review=s)},null,512),[[H,i.product.review,void 0,{number:!0}]])])]),ms,e("div",_s,[gs,q(e("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入產品描述","onUpdate:modelValue":r[11]||(r[11]=s=>i.product.description=s),style:{height:"100px"}},null,512),[[H,i.product.description]])]),e("div",bs,[Es,q(e("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":r[12]||(r[12]=s=>i.product.content=s),style:{height:"150px"}},null,512),[[H,i.product.content]])]),e("div",ys,[e("div",vs,[q(e("input",{id:"is_enabled",class:"form-check-input",type:"checkbox","true-value":1,"false-value":0,"onUpdate:modelValue":r[13]||(r[13]=s=>i.product.is_enabled=s)},null,512),[[Ht,i.product.is_enabled]]),As])])])])]),e("div",ws,[Ds,e("button",{type:"button",class:"btn btn-primary",onClick:r[14]||(r[14]=(...s)=>n.updateProductHandler&&n.updateProductHandler(...s))}," 確認 ")])])])],512)}const ks=mt(ge,[["render",Ns]]),Ts="https://vue3-course-api.hexschool.io/v2",Cs="key0329",Ss={name:"delete-product-modal-component",props:{tempProduct:{type:Object,required:!0}},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2",apiPath:"key0329",bsModal:"",product:{}}},methods:{openModal(){this.bsModal.show()},closeModal(){this.bsModal.hide()},deleteProduct(){const{id:a}=this.product;this.$http.delete(`${Ts}/api/${Cs}/admin/product/${a}`).then(r=>{alert(r.data.message),this.$emit("get-products-data"),this.closeModal()}).catch(r=>{alert(r.data.message)})}},watch:{tempProduct:{handler(a){this.product={...a}},deep:!0}},mounted(){this.bsModal=new Rt(this.$refs.delProductModal)}},Ms={id:"delProductModal",ref:"delProductModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delProductModalLabel","aria-hidden":"true"},xs={class:"modal-dialog"},Os={class:"modal-content border-0"},Ps=e("div",{class:"modal-header bg-danger text-white"},[e("h5",{id:"delProductModalLabel",class:"modal-title"},[e("span",null,"刪除產品")]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ls={class:"modal-body"},Is={class:"text-danger"},$s=e("br",null,null,-1),Us={class:"modal-footer"},Rs=e("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," 取消 ",-1);function Vs(a,r,o,l,i,n){return O(),P("div",Ms,[e("div",xs,[e("div",Os,[Ps,e("div",Ls,[ot(" 是否刪除 "),e("strong",Is,Y(i.product.title),1),ot(" 商品"),$s,ot(" (刪除後將無法恢復)。 ")]),e("div",Us,[Rs,e("button",{type:"button",class:"btn btn-danger",onClick:r[0]||(r[0]=(...s)=>n.deleteProduct&&n.deleteProduct(...s))}," 確認刪除 ")])])])],512)}const Fs=mt(Ss,[["render",Vs]]),$t="https://vue3-course-api.hexschool.io/v2",Bs="key0329",qs={data(){return{products:[],tempProduct:{},isNew:!1,pages:{},rerenderKey:0}},components:{PaginationComponent:Xt,ProductModalComponent:ks,DeleteProductModalComponent:Fs},mounted(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexVueWeek3Token\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=a,this.checkAdmin()},methods:{checkAdmin(){this.$http.post(`${$t}/api/user/check`).then(()=>{this.getProductsData()}).catch(()=>{alert("登入失敗"),this.$router.push("/login")})},getProductsData(a,r=1){const{id:o}=this.$route.params;let l=r;a||(l=parseInt(o,10)),this.$http.get(`${$t}/api/${Bs}/admin/products?page=${l}`).then(i=>{this.products=i.data.products,this.pages=i.data.pagination,this.forceRerender()}).catch(i=>{alert(i)})},modelHandler(a,r){a==="createBtn"?(this.isNew=!0,this.tempProduct={},this.$refs.productModal.openModal()):a==="editBtn"?(this.tempProduct={...r},this.isNew=!1,this.$refs.productModal.openModal()):a==="deleteBtn"&&(this.tempProduct={...r},this.$refs.delProductModal.openModal())},forceRerender(){this.rerenderKey+=1}}},Hs={class:"container"},js={class:"text-end mt-4"},Ks={class:"table mt-4"},Ys=e("thead",null,[e("tr",null,[e("th",{width:"120"},"分類"),e("th",null,"產品名稱"),e("th",{width:"120"},"原價"),e("th",{width:"120"},"售價"),e("th",{width:"100"},"評價星級"),e("th",{width:"100"},"是否啟用"),e("th",{width:"120"},"編輯")])],-1),Ws={class:"text-start"},zs={class:"text-start"},Qs={class:"text-center"},Gs={key:0,class:"text-success"},Js={key:1},Xs={class:"btn-group"},Zs=["onClick"],to=["onClick"];function eo(a,r,o,l,i,n){const s=st("pagination-component"),c=st("product-modal-component"),p=st("delete-product-modal-component");return O(),P(it,null,[e("div",Hs,[e("div",js,[e("button",{class:"btn btn-primary",onClick:r[0]||(r[0]=_=>n.modelHandler("createBtn"))}," 建立新的產品 ")]),e("table",Ks,[Ys,e("tbody",null,[(O(!0),P(it,null,At(i.products,_=>(O(),P("tr",{key:_.id},[e("td",null,Y(_.category),1),e("td",null,Y(_.title),1),e("td",Ws,"NT$ "+Y(_.origin_price),1),e("td",zs,"NT$ "+Y(_.price),1),e("td",Qs,Y(_.review),1),e("td",null,[_.is_enabled?(O(),P("span",Gs,"啟用")):(O(),P("span",Js,"未啟用"))]),e("td",null,[e("div",Xs,[e("button",{type:"button",class:"btn btn-outline-primary btn-sm",onClick:w=>n.modelHandler("editBtn",_)}," 編輯 ",8,Zs),e("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:w=>n.modelHandler("deleteBtn",_)}," 刪除 ",8,to)])])]))),128))])]),J(s,{pages:i.pages,onGetProductsData:n.getProductsData},null,8,["pages","onGetProductsData"])]),J(c,{ref:"productModal","is-new":i.isNew,"temp-product":i.tempProduct,onGetProductsData:n.getProductsData},null,8,["is-new","temp-product","onGetProductsData"]),J(p,{ref:"delProductModal","temp-product":i.tempProduct,onGetProductsData:n.getProductsData},null,8,["temp-product","onGetProductsData"])],64)}const oo=mt(qs,[["render",eo]]);export{oo as default};
